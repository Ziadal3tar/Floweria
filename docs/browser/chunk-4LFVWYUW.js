import{g as h,h as v,i as y}from"./chunk-NXTPXKZP.js";import{Aa as C,Ea as m,Ka as s,La as t,Ma as e,Na as O,Q as f,R as _,Ra as x,Ta as g,Va as p,bb as M,cb as P,db as i,eb as u,fb as c,la as b,na as r}from"./chunk-UOLGZMFI.js";import"./chunk-2NFLSA4Y.js";function S(o,l){if(o&1){let n=x();t(0,"tr")(1,"td"),i(2),e(),t(3,"td")(4,"strong"),i(5),e(),t(6,"small"),i(7),e()(),t(8,"td"),i(9),e(),t(10,"td")(11,"span",21),i(12),e()(),t(13,"td"),i(14),e(),t(15,"td")(16,"button",8),g("click",function(){let d=f(n).$implicit,k=p();return _(k.openOrder(d))}),i(17,"\u{1F441}"),e()()()}if(o&2){let n=l.$implicit;r(2),u(n.id),r(3),u(n.customer),r(2),u(n.email),r(2),u(n.date),r(2),P(n.status.toLowerCase()),r(),c(" ",n.status," "),r(2),c("$",n.total)}}function E(o,l){if(o&1){let n=x();t(0,"div",22),g("click",function(){f(n);let d=p();return _(d.closeDrawer())}),e()}}function I(o,l){if(o&1&&(t(0,"div",23),O(1,"img",24),t(2,"div",25)(3,"strong"),i(4),e(),t(5,"small"),i(6),e()(),t(7,"div",26),i(8),e(),t(9,"div",27),i(10),e(),t(11,"div",28),i(12),e()()),o&2){let n=l.$implicit;r(),s("src",n.image,b),r(3),u(n.name),r(2),c("SKU: ",n.sku),r(2),c(" \xD7 ",n.quantity," "),r(2),c(" $",n.price," "),r(2),c(" $",n.price*n.quantity," ")}}function T(o,l){if(o&1&&(t(0,"div",29),O(1,"div",30),t(2,"div",31)(3,"strong"),i(4),e(),t(5,"span"),i(6),e()()()),o&2){let n=l.$implicit;r(4),u(n.status),r(2),u(n.date)}}function D(o,l){if(o&1){let n=x();t(0,"button",32),g("click",function(){f(n);let d=p();return _(d.updateStatus(d.selectedOrder,"Delivered"))}),i(1,` \u2713 Mark as Delivered
`),e()}if(o&2){let n=p();s("disabled",n.isCancelling)}}function z(o,l){if(o&1){let n=x();t(0,"button",33),g("click",function(){f(n);let d=p();return _(d.openCancelConfirm())}),i(1,` Cancel Order
`),e()}}function V(o,l){o&1&&(t(0,"span"),i(1,"Yes, Cancel"),e())}function F(o,l){o&1&&O(0,"span",41)}function $(o,l){if(o&1){let n=x();t(0,"div",34)(1,"div",35)(2,"h3"),i(3,"Cancel Order"),e(),t(4,"p"),i(5," Are you sure you want to cancel this order? This action cannot be undone. "),e(),t(6,"div",36)(7,"button",37),g("click",function(){f(n);let d=p();return _(d.closeCancelConfirm())}),i(8," Keep Order "),e(),t(9,"button",38),g("click",function(){f(n);let d=p();return _(d.confirmCancel(d.selectedOrder))}),m(10,V,2,0,"span",39)(11,F,1,0,"span",40),e()()()()}if(o&2){let n=p();r(7),s("disabled",n.isCancelling),r(2),s("disabled",n.isCancelling),r(),s("ngIf",!n.isCancelling),r(),s("ngIf",n.isCancelling)}}var w=class o{orders=[{id:"#10231",customer:"Ahmed Ali",email:"ahmed@mail.com",total:120,status:"Shipped",date:"2025-01-12",timeline:[{status:"Order Placed",date:"Jan 12, 10:20"},{status:"Payment Confirmed",date:"Jan 12, 10:25"},{status:"Shipped",date:"Jan 13, 14:10"}],items:[{id:"p1",name:"Red Roses",sku:"RR-001",image:"https://images.unsplash.com/photo-1509042239860-f550ce710b93",price:45,quantity:2},{id:"p2",name:"Gift Box",sku:"GB-021",image:"https://images.unsplash.com/photo-1490750967868-88aa4486c946",price:30,quantity:1}]}];isConfirmOpen=!1;isCancelling=!1;selectedOrder=null;isDrawerOpen=!1;openOrder(l){this.selectedOrder=l,this.isDrawerOpen=!0}closeDrawer(){this.isDrawerOpen=!1,this.selectedOrder=null}updateStatus(l,n){l.status!==n&&(l.status=n,l.timeline.push({status:n,date:new Date().toLocaleString()}))}openCancelConfirm(){this.isConfirmOpen=!0}closeCancelConfirm(){this.isConfirmOpen=!1}confirmCancel(l){this.isCancelling=!0,this.updateStatus(l,"Cancelled"),this.isCancelling=!1,this.closeCancelConfirm()}addOrder(){let l={id:`#${Math.floor(Math.random()*1e5)}`,customer:"New Customer",email:"new@mail.com",total:0,status:"Pending",date:new Date().toISOString().split("T")[0],timeline:[{status:"Order Created",date:new Date().toLocaleString()}],items:[]};this.orders.unshift(l),this.openOrder(l)}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=C({type:o,selectors:[["app-orders"]],decls:68,vars:15,consts:[[1,"admin-orders"],[1,"page-header"],[1,"table-wrapper"],[1,"table","advanced"],[4,"ngFor","ngForOf"],["class","overlay",3,"click",4,"ngIf"],[1,"drawer"],[1,"drawer-header"],[1,"icon-btn",3,"click"],[1,"order-info"],[1,"order-items"],[1,"items-list"],["class","item",4,"ngFor","ngForOf"],[1,"order-total"],[1,"timeline"],["class","timeline-item",4,"ngFor","ngForOf"],[1,"order-actions"],[1,"status-actions"],["class","btn-primary",3,"disabled","click",4,"ngIf"],["class","btn-link-danger",3,"click",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"badge"],[1,"overlay",3,"click"],[1,"item"],[3,"src"],[1,"details"],[1,"qty"],[1,"price"],[1,"subtotal"],[1,"timeline-item"],[1,"dot"],[1,"content"],[1,"btn-primary",3,"click","disabled"],[1,"btn-link-danger",3,"click"],[1,"modal-overlay"],[1,"confirm-modal"],[1,"modal-actions"],[1,"btn-outline",3,"click","disabled"],[1,"btn-danger",3,"click","disabled"],[4,"ngIf"],["class","loader",4,"ngIf"],[1,"loader"]],template:function(n,a){n&1&&(t(0,"section",0)(1,"header",1)(2,"h1"),i(3,"Orders"),e(),t(4,"p"),i(5,"Track, manage and fulfill customer orders"),e()(),t(6,"div",2)(7,"table",3)(8,"thead")(9,"tr")(10,"th"),i(11,"Order"),e(),t(12,"th"),i(13,"Customer"),e(),t(14,"th"),i(15,"Date"),e(),t(16,"th"),i(17,"Status"),e(),t(18,"th"),i(19,"Total"),e(),O(20,"th"),e()(),t(21,"tbody"),m(22,S,18,8,"tr",4),e()()(),m(23,E,1,0,"div",5),t(24,"aside",6)(25,"header",7)(26,"h2"),i(27),e(),t(28,"button",8),g("click",function(){return a.closeDrawer()}),i(29,"\u2715"),e()(),t(30,"section",9)(31,"p")(32,"strong"),i(33,"Customer:"),e(),i(34),e(),t(35,"p")(36,"strong"),i(37,"Email:"),e(),i(38),e(),t(39,"p")(40,"strong"),i(41,"Total:"),e(),i(42),e(),t(43,"p")(44,"strong"),i(45,"Status:"),e(),i(46),e()(),t(47,"section",10)(48,"h3"),i(49,"Order Items"),e(),t(50,"div",11),m(51,I,13,6,"div",12),e(),t(52,"div",13)(53,"span"),i(54,"Total"),e(),t(55,"strong"),i(56),e()()(),t(57,"section",14)(58,"h3"),i(59,"Order Timeline"),e(),m(60,T,7,2,"div",15),e(),t(61,"section",16)(62,"h3"),i(63,"Update Status"),e(),t(64,"div",17),m(65,D,2,1,"button",18)(66,z,2,0,"button",19),e()()()(),m(67,$,12,4,"div",20)),n&2&&(r(22),s("ngForOf",a.orders),r(),s("ngIf",a.isDrawerOpen),r(),M("open",a.isDrawerOpen),r(3),c("Order ",a.selectedOrder==null?null:a.selectedOrder.id),r(7),c(" ",a.selectedOrder==null?null:a.selectedOrder.customer),r(4),c(" ",a.selectedOrder==null?null:a.selectedOrder.email),r(4),c(" $",a.selectedOrder==null?null:a.selectedOrder.total),r(4),c(" ",a.selectedOrder==null?null:a.selectedOrder.status),r(5),s("ngForOf",a.selectedOrder==null?null:a.selectedOrder.items),r(5),c("$",a.selectedOrder==null?null:a.selectedOrder.total),r(4),s("ngForOf",a.selectedOrder==null?null:a.selectedOrder.timeline),r(5),s("ngIf",(a.selectedOrder==null?null:a.selectedOrder.status)==="Shipped"),r(),s("ngIf",(a.selectedOrder==null?null:a.selectedOrder.status)!=="Delivered"&&(a.selectedOrder==null?null:a.selectedOrder.status)!=="Cancelled"),r(),s("ngIf",a.isConfirmOpen))},dependencies:[y,h,v],styles:['.admin-orders[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:4px}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--muted);font-size:14px}.table-wrapper[_ngcontent-%COMP%]{background:#fff;border-radius:18px;box-shadow:0 8px 24px #00000014;overflow:hidden}.table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8fafc;padding:14px;font-size:12px;text-transform:uppercase}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #f1f5f9;text-align:center}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;font-size:12px;color:#64748b}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:10px;font-size:12px;font-weight:500}.badge.pending[_ngcontent-%COMP%]{background:#fff7ed;color:#9a3412}.badge.paid[_ngcontent-%COMP%]{background:#ecfeff;color:#0369a1}.badge.shipped[_ngcontent-%COMP%]{background:#eef2ff;color:#3730a3}.badge.delivered[_ngcontent-%COMP%]{background:#f0fdf4;color:#166534}.icon-btn[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;border:1px solid #e5e7eb;background:#f8fafc;cursor:pointer}.overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0f172a73}.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:0;width:420px;height:100%;background:#fff;padding:24px;transform:translate(100%);transition:.3s ease;box-shadow:-30px 0 60px #00000040}.drawer.open[_ngcontent-%COMP%]{transform:translate(0)}.drawer-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px}.timeline[_ngcontent-%COMP%]{margin-top:20px;position:relative}.timeline-item[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:20px;position:relative}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:6px;top:0;bottom:0;width:2px;background:#e5e7eb}.dot[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:50%;background:var(--primary);margin-top:4px}.content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:12px;color:#64748b}.order-actions[_ngcontent-%COMP%]{margin-top:24px}.order-actions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#334155;margin-bottom:12px}.status-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4f46e5,#6366f1);color:#fff;border:none;padding:10px 18px;border-radius:12px;font-size:14px;font-weight:500;cursor:pointer;box-shadow:0 6px 20px #4f46e559;transition:all .2s ease}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 28px #4f46e573}.btn-primary[_ngcontent-%COMP%]:active{transform:scale(.97)}.btn-link-danger[_ngcontent-%COMP%]{background:none;border:none;color:#dc2626;font-size:13px;cursor:pointer;padding:6px 0;transition:color .15s ease}.btn-link-danger[_ngcontent-%COMP%]:hover{color:#991b1b;text-decoration:underline}.status-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}button.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4caf50,#66bb6a);color:#fff}button.outline[_ngcontent-%COMP%]{border:1px solid var(--primary);color:var(--primary);background:transparent}button.danger[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.timeline-item[_ngcontent-%COMP%]:last-child   .dot[_ngcontent-%COMP%]{background:var(--primary);box-shadow:0 0 0 4px #4caf5033}.order-items[_ngcontent-%COMP%]{margin-top:20px}.order-items[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;margin-bottom:12px}.items-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.item[_ngcontent-%COMP%]{display:grid;grid-template-columns:48px 1fr auto auto auto;align-items:center;gap:12px;padding:12px;border-radius:14px;background:#f8fafc}.item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:10px;object-fit:cover}.item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:14px}.item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.item[_ngcontent-%COMP%]   .qty[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .subtotal[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.item[_ngcontent-%COMP%]   .subtotal[_ngcontent-%COMP%]{color:#0f172a}.order-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:14px;padding-top:14px;border-top:1px dashed #e5e7eb}.order-total[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#64748b}.order-total[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:16px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0f172a8c;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:100;animation:_ngcontent-%COMP%_fadeIn .25s ease}.confirm-modal[_ngcontent-%COMP%]{background:#fff;width:380px;border-radius:20px;padding:24px;box-shadow:0 30px 80px #00000059;animation:_ngcontent-%COMP%_scaleIn .25s ease}.confirm-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;margin-bottom:8px}.confirm-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#475569;line-height:1.5}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px}.btn-outline[_ngcontent-%COMP%]{background:transparent;border:1px solid #cbd5f5;color:#334155;padding:8px 16px;border-radius:10px;cursor:pointer}.btn-danger[_ngcontent-%COMP%]{background:#dc2626;color:#fff;border:none;padding:8px 16px;border-radius:10px;cursor:pointer;min-width:120px}.loader[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid rgba(255,255,255,.4);border-top:2px solid #fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .7s linear infinite;margin:auto}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(.96);opacity:0}}']})};export{w as Orders};
